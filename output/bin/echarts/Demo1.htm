<!DOCTYPE html>
<html>
<head>
    <meta charset="gb2312">
    <title>ECharts</title>
    <!-- 引入 echarts.js -->
    <script src="echarts.min.js"></script>
</head>
<body>
    <!--为 ECharts 准备一个具备大小（宽高）的 DOM-->
    <div id="main" style="width:600px;height:400px;"></div>
    <script type="text/javascript">

        var values = new Array(1,1,1,1);

        function getValue() {
            // alert("初始化饼图的值");
            var copy = values;
            return copy;
        }

        function changeValue(value1, value2, value3, value4) {
            values[0] = value1;
            values[1] = value2;
            values[2] = value3;
            values[3] = value4;
            // alert("开始修改数据，并且让 ECharts 显示");
            showPie();
        }

        function showPie() {
            // 基于准备好的dom，初始化echarts实例
            var myChart = echarts.init(document.getElementById('main'));

            var option = {
                tooltip: {
                    trigger: 'item',
                    formatter: "{a} <br/>{b}: {c} ({d}%)"
                },
                legend: {
                    orient: 'vertical',
                    x: 'left',
                    data: ['五杀', '四杀', '三杀', '送成鬼']
                },
                series: [
                    {
                        name: '成绩分布',
                        type: 'pie',
                        radius: ['50%', '70%'],
                        avoidLabelOverlap: false,
                        label: {
                            normal: {
                                show: false,
                                position: 'center'
                            },
                            emphasis: {
                                show: true,
                                textStyle: {
                                    fontSize: '30',
                                    fontWeight: 'bold'
                                }
                            }
                        },
                        labelLine: {
                            normal: {
                                show: false
                            }
                        },
                        data: [
                            { value: values[0], name: '五杀', itemStyle: { color: '#26d7bc' } },
                            { value: values[1], name: '四杀', itemStyle: { color: '#24bdee' } },
                            { value: values[2], name: '三杀', itemStyle: { color: '#ffdb83' } },
                            { value: values[3], name: '送成鬼', itemStyle: { color: '#ff8181' } }
                        ]
                    }
                ]
            };

            // 使用刚指定的配置项和数据显示图表。
            myChart.setOption(option);
        }

        showPie();
    </script>
</body>
</html>
